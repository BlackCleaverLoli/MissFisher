
# 钓法表达式 - 快速修改指南
> [!CAUTION]  
> 本文暂缺维护修订，包含的信息及方法可能有误。

## 钓法表达式是什么？
钓法表达式是一串包含许多参数的文本，它告诉 MissFisher 如何自动钓鱼，包括不限于在什么条件下钓、用哪些准备阶段的技能、抛竿后对哪些时间哪些竿震类型的咬饵响应、使用哪种提钩技能。

## 怎么入门？
在作者整理好语法文档前，你可以使用已有的表达式稍作修改，以修改使用的钓饵，或者用来钓别的鱼。


## 在哪能找到表达式
你可以 [点这里（腾讯表格）](https://docs.qq.com/sheet/DVlNaQ012amF4SW1G?tab=yirja0) 前往 MissFisher 实际使用的预设表格。

## 怎么用？
在游戏消息窗口中输入主命令 `mf` 后接钓法表达式：
```plantuml
/mf 钓法表达式
```

## 修改表达式
### 改表达式中的钓饵
#### 找到钓饵参数
在表达式中，钓饵参数一般紧随在模式参数后，且会被 `【】` 包裹：  

```angex
平钓【沙蚕】》！//这里的沙蚕就是钓饵参数
```


- 它还有以下变体：  
  - `【沙蚕|2585】` 
    - 通过 `|` 分割参数，名字在左，数字 ID 在右。
  - `【2585】`
    - 纯数字 ID 的形式。 

#### 修改钓饵参数
要修改钓饵参数，直接使用新的钓饵替换那部分就行。

比如将钓饵从 `沙蚕` 修改为 `万能拟饵`，在表达式中仅含有名字的情况：
```diff
- 平钓【沙蚕】》！
+ 平钓【万能拟饵】》！
```

同时有名字和 ID 的情况（通常来说你能获取到的表达式都是这种）：
```diff
- 平钓【沙蚕|2585】》！
+ 平钓【万能拟饵|29717】》！
```

仅有数字 ID 的情况：
```diff
- 平钓【2585】》！
+ 平钓【29717】》！
```

- 数字 ID 会被 MissFisher 优先使用。
  - 你可以通过不同渠道获取物品的 ID
  - 也可以打开游戏，在 MissFisher 已加载的情况下，将对应你使用的客户端的语言的正确物品名称复制到剪贴板，然后输入`/mf toid`发送。MissFisher 会尝试使用对应的 ID 替换




### 2.2 修改咬饵时间与提钩方式

调整咬饵时间参数：

```diff
- 》3.0+5.0~6.0+10.0！！！强力
+ 》4.0+6.0~7.0+12.0！！！强力
```

说明：
- 第一组数字(4.0+6.0)是最短咬饵时间
- 第二组数字(7.0+12.0)是最长咬饵时间
- `+`前的数字是撒饵状态下的时间
- `+`后的数字是非撒饵状态下的时间

省略：
- 可只提供最短或最长咬饵时间
- 可只提供非撒饵时间
  - 在此情况下，将使用提供的非撒饵时间 * 0.6 作为撒饵时间


更改提钩方式：

```diff
- 平钓》！！！强力
+ 平钓》！！！精准
```

可用的提钩方式：强力、精准、双提(双重)、三提(三重)、华丽

更改接受的咬饵类型：

```diff
- 平钓》！！！强力
+ 平钓》！！+！！！强力
```

咬饵类型说明：
- `！` - 轻竿
- `！！` - 中竿
- `！！！` - 鱼王竿
- `全部` - 所有类型

### 2.4 更改目标鱼

让 MissFisher 一直钓而不是钓到指定鱼就停止：

```diff
- 平钓》！！！强力=【酿血鱼】；不撒饵；
+ 平钓》！！！强力=不撒饵；
```


### 2.5 添加或修改拍水功能

增加拍水功能：

```diff
- 平钓【蝲蛄丸子】！！！强力=【酿血鱼】；
+ 平钓【蝲蛄丸子】！！！强力@拍水！！强力【珊瑚蟹】=【酿血鱼】；
```

修改拍水目标：

```diff
- 平钓【蝲蛄丸子】！！！强力@拍水2.0+3.5~3.0+5.0！！强力【珊瑚蟹】
+ 平钓【蝲蛄丸子】！！！强力@拍水2.0+3.5~3.0+5.0！！强力【铁饼】
```

### 2.6 修改专一目标

在钓上对应目标时，会使用专一，然后尽可能使用跟随在鱼名后的提钩方式：

```diff
- 平钓【蝲蛄丸子】》！！！强力=【酿血鱼】；
+ 平钓【蝲蛄丸子】》！！！强力@专一【珊瑚蝠鲼】华丽=【酿血鱼】；
```

更改专一目标的提钩方式：

```diff
- 平钓【蝲蛄丸子】》！！！强力@专一【珊瑚蝠鲼】华丽
+ 平钓【蝲蛄丸子】》！！！强力@专一【珊瑚蝠鲼】强力
```

### 2.7 调整计数器和手法修饰词

添加计数目标(钓到特定数量的鱼后停止)：

```diff
- 平钓【蝲蛄丸子】》！！！强力=【酿血鱼】；
+ 平钓【蝲蛄丸子】》！！！强力=3【酿血鱼】；
```

可以添加多个计数目标：

```diff
- 平钓【蝲蛄丸子】》！！！强力=3【酿血鱼】；
+ 平钓【蝲蛄丸子】》！！！强力=3【酿血鱼】；2【珊瑚蟹】；
```

添加或修改手法修饰词：

```diff
- 平钓【蝲蛄丸子】》！！！强力=【酿血鱼】；
+ 平钓【蝲蛄丸子】》！！！强力=【酿血鱼】；不撒饵、大尺寸；
```

常用修饰词：
- `引诱` - 自动判断并使用诱饵技能
- `不撒饵` - 不使用撒饵
- `收藏品` - 启用收藏品
- `大尺寸` - 优先大尺寸鱼
- `套娃` - 套娃优化
